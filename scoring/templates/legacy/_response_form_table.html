{% load widget_tweaks %}
<form method="post" id="{{ form_id|default:'response-form' }}" autocomplete="off" {% if enctype %}enctype="{{ enctype }}"{% endif %}>
  {% csrf_token %}
  {{ formset.management_form }}
  <div class="table-wrapper" style="max-height:550px;">
    <table class="table table-bordered table-sm" style="white-space:nowrap; min-width:1200px;">
      <thead>
        <tr>
          <th style="width:4%;"  title="로마 또는 아라비아 숫자">카드</th>
          <th style="width:3%;">N</th>
          <th style="width:3.5%;">시간</th>
          <th style="width:13%;">반응</th>
          <th style="width:25%;">질문</th>
          <th style="width:2%;">회전</th>
          <th style="width:3%;">반응영역</th>
          <th style="width:3%;">발달질</th>
          <th style="width:2%;">영역번호</th>
          <th style="width:7%;">결정인</th>
          <th style="width:3%;">형태질</th>
          <th style="width:3%;">(2)</th>
          <th style="width:7%;">내용인</th>
          <th style="width:3%;">P</th>
          <th style="width:4%;">Z</th>
          <th style="width:7%;">특수점수</th>
          <th style="width:7%;">코멘트</th>
        </tr>
      </thead>
      <tbody>
      {% for form in formset %}
        <tr>
          {% for field in form %}
          <td>
            {% render_field field class="form-control" %}
            {% for error in field.errors %}<span class="text-danger">{{ error }}</span>{% endfor %}
          </td>
          {% endfor %}
        </tr>
      {% endfor %}
      </tbody>
    </table>
  </div>
  {% if show_add_button %}
    <input type="hidden" value="false" name="additems" id="additems">
    <button class="btn btn-secondary mr-2" onclick="document.getElementById('additems').value='true'">행 추가</button>
  {% endif %}
  <button type="submit" class="btn btn-primary">{{ submit_label|default:"저장하기" }}</button>
</form>
